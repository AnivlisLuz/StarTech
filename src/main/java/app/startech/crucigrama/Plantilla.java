/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package app.startech.crucigrama;
import java.util.ArrayList;
import java.util.Random;
/**
 *
 * @author Carlos
 */
public class Plantilla {
    private Casilla[][] plantilla;
    
    private ArrayList<char[][]> matrices = new ArrayList<>();
    
    private char[][] matriz;
    private char[][] matrizRes;
    
    ArrayList<Casilla> numeros = new ArrayList<>();
    
    public Plantilla(String operacion)
    {
        if (operacion.equals("suma"))
            addSumas();
        if (operacion.equals("resta"))
            addRestas();
        if (operacion.equals("multiplicacion"))
            addMultiplicaciones();
        if (operacion.equals("division"))
            addDivisiones();
        
        int n = getRandom(1, 5);
        
        matriz = matrices.get(n);
        matrizRes = clonar(matrices.get(n));
        
        setPlantilla();
        setNumeros();
        quitarNumeros();
    }
    
    public void setPlantilla()
    {
        Casilla[][] aux = new Casilla[matriz.length][matriz[0].length];
        for (int i = 0; i < aux.length; i++)
        {
            for (int j = 0; j < aux[i].length; j++)
            {
                aux[i][j] = new Casilla(i,j,matriz[i][j]);
            }
        }
        plantilla = aux;
    }
    
    public void setNumeros()
    {
        for (int i = 0; i<plantilla.length; i++)
            for (int j = 0; j<plantilla[i].length; j++)
                if (plantilla[i][j].esNumero())
                    numeros.add(plantilla[i][j]);
    }
    
    public void quitarNumeros()
    {
        Random r = new Random();
        for (int i = 0; i <= 8; i++)
        {
            int n = r.nextInt(numeros.size());
            matriz[numeros.get(n).getX()][numeros.get(n).getY()] = '@';
        }
    }
    
    public char[][] clonar(char[][] mat)
    {
        char[][] aux = new char[mat.length][mat.length];
        for (int i = 0; i<mat.length; i++)
            for (int j = 0; j<mat.length; j++)
                aux[i][j] = mat[i][j];
        return aux;
    }
    
    public char[][] getMatriz()
    {
        return matriz;
    }
    
    public char[][] getMatizRes()
    {
        return matrizRes;
    }
    
    private void addSumas()
    {
        char[][] m1 =  {{'1','+','2','=','5','#','#','#','4','+','4','=','8'},
                        {'#','#','#','#','+','#','#','#','+','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','+','#','#'},
                        {'#','#','3','#','6','+','3','=','9','#','2','#','#'},
                        {'#','#','+','#','#','#','+','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','+','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','+','#','#','#','#'},
                        {'#','#','5','+','2','=','7','#','5','+','2','=','7'},
                        {'#','#','#','#','+','#','#','#','=','#','+','#','#'},
                        {'#','#','#','#','6','+','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','+','4','=','8','#','3','+','3','=','6','#','#'}};
        
        char[][] m2 =  {{'2','+','2','=','5','#','#','#','4','+','4','=','8'},
                        {'#','#','#','#','+','#','#','#','+','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','+','#','#'},
                        {'#','#','3','#','6','+','3','=','9','#','2','#','#'},
                        {'#','#','+','#','#','#','+','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','+','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','+','#','#','#','#'},
                        {'#','#','5','+','2','=','7','#','5','+','2','=','7'},
                        {'#','#','#','#','+','#','#','#','=','#','+','#','#'},
                        {'#','#','#','#','6','+','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','+','4','=','8','#','3','+','3','=','6','#','#'}};
        
        char[][] m3 =  {{'3','+','2','=','5','#','#','#','4','+','4','=','8'},
                        {'#','#','#','#','+','#','#','#','+','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','+','#','#'},
                        {'#','#','3','#','6','+','3','=','9','#','2','#','#'},
                        {'#','#','+','#','#','#','+','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','+','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','+','#','#','#','#'},
                        {'#','#','5','+','2','=','7','#','5','+','2','=','7'},
                        {'#','#','#','#','+','#','#','#','=','#','+','#','#'},
                        {'#','#','#','#','6','+','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','+','4','=','8','#','3','+','3','=','6','#','#'}};
        
        char[][] m4 =  {{'4','+','2','=','5','#','#','#','4','+','4','=','8'},
                        {'#','#','#','#','+','#','#','#','+','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','+','#','#'},
                        {'#','#','3','#','6','+','3','=','9','#','2','#','#'},
                        {'#','#','+','#','#','#','+','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','+','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','+','#','#','#','#'},
                        {'#','#','5','+','2','=','7','#','5','+','2','=','7'},
                        {'#','#','#','#','+','#','#','#','=','#','+','#','#'},
                        {'#','#','#','#','6','+','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','+','4','=','8','#','3','+','3','=','6','#','#'}};
        
        char[][] m5 =  {{'5','+','2','=','5','#','#','#','4','+','4','=','8'},
                        {'#','#','#','#','+','#','#','#','+','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','+','#','#'},
                        {'#','#','3','#','6','+','3','=','9','#','2','#','#'},
                        {'#','#','+','#','#','#','+','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','+','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','+','#','#','#','#'},
                        {'#','#','5','+','2','=','7','#','5','+','2','=','7'},
                        {'#','#','#','#','+','#','#','#','=','#','+','#','#'},
                        {'#','#','#','#','6','+','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','+','4','=','8','#','3','+','3','=','6','#','#'}};
        
        matrices.add(m1);
        matrices.add(m2);
        matrices.add(m3);
        matrices.add(m4);
        matrices.add(m5);
    }
    
    private void addRestas()
    {
        char[][] m1 =  {{'1','-','2','=','5','#','#','#','4','+','4','=','8'},
                        {'#','#','#','#','+','#','#','#','+','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','+','#','#'},
                        {'#','#','3','#','6','+','3','=','9','#','2','#','#'},
                        {'#','#','+','#','#','#','+','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','+','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','+','#','#','#','#'},
                        {'#','#','5','+','2','=','7','#','5','+','2','=','7'},
                        {'#','#','#','#','+','#','#','#','=','#','+','#','#'},
                        {'#','#','#','#','6','+','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','+','4','=','8','#','3','+','3','=','6','#','#'}};
        
        char[][] m2 =  {{'2','-','2','=','5','#','#','#','4','+','4','=','8'},
                        {'#','#','#','#','+','#','#','#','+','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','+','#','#'},
                        {'#','#','3','#','6','+','3','=','9','#','2','#','#'},
                        {'#','#','+','#','#','#','+','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','+','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','+','#','#','#','#'},
                        {'#','#','5','+','2','=','7','#','5','+','2','=','7'},
                        {'#','#','#','#','+','#','#','#','=','#','+','#','#'},
                        {'#','#','#','#','6','+','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','+','4','=','8','#','3','+','3','=','6','#','#'}};
        
        char[][] m3 =  {{'3','-','2','=','5','#','#','#','4','+','4','=','8'},
                        {'#','#','#','#','+','#','#','#','+','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','+','#','#'},
                        {'#','#','3','#','6','+','3','=','9','#','2','#','#'},
                        {'#','#','+','#','#','#','+','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','+','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','+','#','#','#','#'},
                        {'#','#','5','+','2','=','7','#','5','+','2','=','7'},
                        {'#','#','#','#','+','#','#','#','=','#','+','#','#'},
                        {'#','#','#','#','6','+','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','+','4','=','8','#','3','+','3','=','6','#','#'}};
        
        char[][] m4 =  {{'4','-','2','=','5','#','#','#','4','+','4','=','8'},
                        {'#','#','#','#','+','#','#','#','+','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','+','#','#'},
                        {'#','#','3','#','6','+','3','=','9','#','2','#','#'},
                        {'#','#','+','#','#','#','+','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','+','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','+','#','#','#','#'},
                        {'#','#','5','+','2','=','7','#','5','+','2','=','7'},
                        {'#','#','#','#','+','#','#','#','=','#','+','#','#'},
                        {'#','#','#','#','6','+','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','+','4','=','8','#','3','+','3','=','6','#','#'}};
        
        char[][] m5 =  {{'5','-','2','=','5','#','#','#','4','+','4','=','8'},
                        {'#','#','#','#','+','#','#','#','+','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','+','#','#'},
                        {'#','#','3','#','6','+','3','=','9','#','2','#','#'},
                        {'#','#','+','#','#','#','+','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','+','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','+','#','#','#','#'},
                        {'#','#','5','+','2','=','7','#','5','+','2','=','7'},
                        {'#','#','#','#','+','#','#','#','=','#','+','#','#'},
                        {'#','#','#','#','6','+','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','+','4','=','8','#','3','+','3','=','6','#','#'}};
        
        matrices.add(m1);
        matrices.add(m2);
        matrices.add(m3);
        matrices.add(m4);
        matrices.add(m5);
    }
    
    private void addMultiplicaciones()
    {
        char[][] m1 =  {{'1','*','2','=','5','#','#','#','4','*','4','=','8'},
                        {'#','#','#','#','*','#','#','#','*','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','*','#','#'},
                        {'#','#','3','#','6','*','3','=','9','#','2','#','#'},
                        {'#','#','*','#','#','#','*','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','*','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','*','#','#','#','#'},
                        {'#','#','5','*','2','=','7','#','5','*','2','=','7'},
                        {'#','#','#','#','*','#','#','#','=','#','*','#','#'},
                        {'#','#','#','#','6','*','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','*','4','=','8','#','3','*','3','=','6','#','#'}};
        
        char[][] m2 =  {{'2','*','2','=','5','#','#','#','4','*','4','=','8'},
                        {'#','#','#','#','*','#','#','#','*','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','*','#','#'},
                        {'#','#','3','#','6','*','3','=','9','#','2','#','#'},
                        {'#','#','*','#','#','#','*','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','*','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','*','#','#','#','#'},
                        {'#','#','5','*','2','=','7','#','5','*','2','=','7'},
                        {'#','#','#','#','*','#','#','#','=','#','*','#','#'},
                        {'#','#','#','#','6','*','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','*','4','=','8','#','3','*','3','=','6','#','#'}};
        
        char[][] m3 =  {{'3','*','2','=','5','#','#','#','4','*','4','=','8'},
                        {'#','#','#','#','*','#','#','#','*','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','*','#','#'},
                        {'#','#','3','#','6','*','3','=','9','#','2','#','#'},
                        {'#','#','*','#','#','#','*','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','*','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','*','#','#','#','#'},
                        {'#','#','5','*','2','=','7','#','5','*','2','=','7'},
                        {'#','#','#','#','*','#','#','#','=','#','*','#','#'},
                        {'#','#','#','#','6','*','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','*','4','=','8','#','3','*','3','=','6','#','#'}};
        
        char[][] m4 =  {{'4','*','2','=','5','#','#','#','4','*','4','=','8'},
                        {'#','#','#','#','*','#','#','#','*','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','*','#','#'},
                        {'#','#','3','#','6','*','3','=','9','#','2','#','#'},
                        {'#','#','*','#','#','#','*','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','*','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','*','#','#','#','#'},
                        {'#','#','5','*','2','=','7','#','5','*','2','=','7'},
                        {'#','#','#','#','*','#','#','#','=','#','*','#','#'},
                        {'#','#','#','#','6','*','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','*','4','=','8','#','3','*','3','=','6','#','#'}};
        
        char[][] m5 =  {{'5','*','2','=','5','#','#','#','4','*','4','=','8'},
                        {'#','#','#','#','*','#','#','#','*','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','*','#','#'},
                        {'#','#','3','#','6','*','3','=','9','#','2','#','#'},
                        {'#','#','*','#','#','#','*','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','*','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','*','#','#','#','#'},
                        {'#','#','5','*','2','=','7','#','5','*','2','=','7'},
                        {'#','#','#','#','*','#','#','#','=','#','*','#','#'},
                        {'#','#','#','#','6','*','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','*','4','=','8','#','3','*','3','=','6','#','#'}};
        
        matrices.add(m1);
        matrices.add(m2);
        matrices.add(m3);
        matrices.add(m4);
        matrices.add(m5);
    }
    
    private void addDivisiones()
    {
        char[][] m1 =  {{'1','÷','2','=','5','#','#','#','4','÷','4','=','8'},
                        {'#','#','#','#','÷','#','#','#','÷','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','÷','#','#'},
                        {'#','#','3','#','6','÷','3','=','9','#','2','#','#'},
                        {'#','#','÷','#','#','#','÷','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','÷','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','÷','#','#','#','#'},
                        {'#','#','5','÷','2','=','7','#','5','÷','2','=','7'},
                        {'#','#','#','#','÷','#','#','#','=','#','÷','#','#'},
                        {'#','#','#','#','6','÷','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','÷','4','=','8','#','3','÷','3','=','6','#','#'}};
        
        char[][] m2 =  {{'2','÷','2','=','5','#','#','#','4','÷','4','=','8'},
                        {'#','#','#','#','÷','#','#','#','÷','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','÷','#','#'},
                        {'#','#','3','#','6','÷','3','=','9','#','2','#','#'},
                        {'#','#','÷','#','#','#','÷','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','÷','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','÷','#','#','#','#'},
                        {'#','#','5','÷','2','=','7','#','5','÷','2','=','7'},
                        {'#','#','#','#','÷','#','#','#','=','#','÷','#','#'},
                        {'#','#','#','#','6','÷','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','÷','4','=','8','#','3','÷','3','=','6','#','#'}};
        
        char[][] m3 =  {{'3','÷','2','=','5','#','#','#','4','÷','4','=','8'},
                        {'#','#','#','#','÷','#','#','#','÷','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','÷','#','#'},
                        {'#','#','3','#','6','÷','3','=','9','#','2','#','#'},
                        {'#','#','÷','#','#','#','÷','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','÷','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','÷','#','#','#','#'},
                        {'#','#','5','÷','2','=','7','#','5','÷','2','=','7'},
                        {'#','#','#','#','÷','#','#','#','=','#','÷','#','#'},
                        {'#','#','#','#','6','÷','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','÷','4','=','8','#','3','÷','3','=','6','#','#'}};
        
        char[][] m4 =  {{'4','÷','2','=','5','#','#','#','4','÷','4','=','8'},
                        {'#','#','#','#','÷','#','#','#','÷','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','÷','#','#'},
                        {'#','#','3','#','6','÷','3','=','9','#','2','#','#'},
                        {'#','#','÷','#','#','#','÷','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','÷','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','÷','#','#','#','#'},
                        {'#','#','5','÷','2','=','7','#','5','÷','2','=','7'},
                        {'#','#','#','#','÷','#','#','#','=','#','÷','#','#'},
                        {'#','#','#','#','6','÷','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','÷','4','=','8','#','3','÷','3','=','6','#','#'}};
        
        char[][] m5 =  {{'5','÷','2','=','5','#','#','#','4','÷','4','=','8'},
                        {'#','#','#','#','÷','#','#','#','÷','#','#','#','#'},
                        {'#','#','#','#','1','#','#','#','5','#','6','#','#'},
                        {'#','#','#','#','=','#','#','#','=','#','÷','#','#'},
                        {'#','#','3','#','6','÷','3','=','9','#','2','#','#'},
                        {'#','#','÷','#','#','#','÷','#','#','#','=','#','#'},
                        {'#','#','2','#','#','#','4','÷','4','=','8','#','#'},
                        {'#','#','=','#','#','#','=','#','÷','#','#','#','#'},
                        {'#','#','5','÷','2','=','7','#','5','÷','2','=','7'},
                        {'#','#','#','#','÷','#','#','#','=','#','÷','#','#'},
                        {'#','#','#','#','6','÷','3','=','9','#','4','#','#'},
                        {'#','#','#','#','=','#','#','#','#','#','=','#','#'},
                        {'4','÷','4','=','8','#','3','÷','3','=','6','#','#'}};
        
        matrices.add(m1);
        matrices.add(m2);
        matrices.add(m3);
        matrices.add(m4);
        matrices.add(m5);
    }
    
    public int getRandom(int min, int max) 
    {
        return (int) ((Math.random() * (max - min)) + min);
    }   
}
